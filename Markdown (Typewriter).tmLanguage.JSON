{
	"name": "Markdown (Typewriter)",
	"author": "Alex Armstrong (@alehandrof)",
	"uuid": "ac344730-1a2b-11e3-8ffd-0800200c9a66",
	"scopeName": "text.html.markdown",
	"fileTypes": [
		/**
		 * Source: http://superuser.com/questions/249436/file-extension-for-markdown-files
		 */
		"md", // the first item becomes the default extension when saving new files
		"markdown",
		"mdown",
		"mdwn",
		"mkd",
		"mkdn",
		"txt",
		"text",
	],
	"patterns": [
		/**
		 * Outside the repo (i.e., block-level):
		 * - Headings
		 * - Lists -> markup.list
		 * 		- Ordered -> .numbered
		 * 		- Unordered -> .unnumbered
		 * 		- Definition
		 * - Blockquotes
		 * - Ruler -> meta.separator.markdown
		 * - Code blocks (fenced or indented)
		 * - Tables -> markup/meta.table.multimarkdown
		 * - Link references -> meta.link.reference.def.markdown
		 * - Paragraphs -> meta.paragraph.markdown
		 */
		{ "include": "#block" },
		{ "include": "#inline" },
	],
	"repository": {

		/* BLOCK Elements - - - - - - - - - - - - - - - - - - - - - - - -  */

		"block": {
			"patterns": [
				{ "include": "#horizontal-rule"},
				{ "include": "#list" },
				{ "include": "#code" },
				{ "include": "#heading" },
				{ "include": "#blockquote" },
				{ "include": "#link-definition" },
				{ "include": "#paragraph"},
			]
		},

		/* BLOCK: Code */
		"code": {
			"patterns": [
				{ "include": "#fenced-code" },
				{ "include": "#indented-code" },
			]
		},
		"fenced-code": {
			/**
			 * Support: backtick & tiled, optional syntax definition
			 * http://johnmacfarlane.net/pandoc/README.html#fenced-code-blocks
			 */
			"name": "markup.raw.block.fenced.markdown",
			"begin": "^(`{3,}|超┄苘营┛苘螵あ汜痿躜弩⒑⒈⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱蜥鳟忪镢氘驽钽邃磲螂滹黝⒉⒑㈩犴澧Ⅵ狎獒忪瀹簌铘狲蜥鳟忪镢氘驽钽邃磲螂滹黝㈠钿⒑ㄜ鼙┄拷苘瞟㈤钿孱翦洵泔溴⒑㈩犴澧㈨狎膈甬蜥鳟忪镢氘轭溴铘邃磲螂滹黝⑩彗轭⒑⑥ㄛ蓰待苘舂㈠钿⒑あ绿厦撕儒徜轭㈣遽溟铉⒑疳趑弪铙⒑㈤钽祯溴⒑ｓ弭屮桢徜轭纰㈤钽祯溴⒑ａ豇桢徜轭纰⑨豇桢徜轭纰㈩犴澧㈨狎膈甬桢徜轭绠磲螂滹黝⑩彗轭⒑⑥ǎ爆洱┸荏拷苘萤汜痿躜弩⒑⒈⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱桢徜轭绠磲螂滹黝㈠钿⒑ㄜ荏＋┛拷苘瞟疳趑弪铙⒑㈤钽祯溴⒑ｉ铎轭澧绿厦撕涕篝㈧轶簪疳趑弪铙⒑㈤钽祯溴⒑ｔ狍氕扉篝㈤钽祯溴⒑ｕ铒蜾弪邃扉篝㈤钽祯溴⒑ｏ蜾弪邃扉篝Ⅳ狍氕扉篝⒑语躜沐瞧㈩犴澧㈨狎膈甬扉篝翎箅磲螂滹黝⑩彗轭⒑⑥苘螵ㄛ苘苘荸苘螳拷苘圹剌苘荸汜痿躜弩⒑⒈⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱扉篝翎箅磲螂滹黝㈠钿⒑ㄜ茴ぉ疳趑弪铙⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱扉篝翎箅汨邈脞秫泔眇戾翦磲螂滹黝㈨狒汨⒑④芮苘圹剌苘茛㈩犴澧瘐钽趱狒轱町溴骈铋糸镱扉篝翎箅汨邈脞秫轭泔眇戾翦磲螂滹黝㈨狒汨⒑④芮苘苘茛㈤钽祯溴⒑ｉ铎轭澧Ⅴ铒蜾弪邃扉篝⒑吁痧矧艉躅溴蜢轭瀣棂痂孱狍翦蜷箅㈩犴澧㈨狎膈甬扉篝躅矧溴蝈洚磲螂滹黝⑩彗轭⒑⑥苘螵ㄛ苘苘荸苘螳汜痿躜弩⒑⒈⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱扉篝躅矧溴蝈洚磲螂滹黝㈠钿⒑ㄜ茴ぉ疳趑弪铙⒑㈤钽祯溴⒑ｉ铎轭澧矧溴蝈洵扉篝⒑吁痧矧艉矧溴蝈犷㈩蹴忮蝈屮犴痨澧扉篝梏麴函觑桀磲沔狎灬铄铄舣疳钿镢遗聊团梏盱ｏ蜾弪邃扉篝㈩犴澧㈨狎膈甬扉篝矧溴蝈洚磲螂滹黝⑩彗轭⒑⑥苘螵ǎ苘ㄜ茕哿蔹凵重堂耐莴坶鲽煦漤莴┷苘苘┹苘è苘浍哿蔹凵重堂耐莴坶鲽煦漤莴┸堠苘ㄜ芾圮荀苘莳苘┅苘螳汜痿躜弩⒑⒈⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱扉篝矧溴蝈洚磲螂滹黝㈠钿⒑ㄜ茴ぉ疳趑弪铙⒑㈤钽祯溴⒑ｉ铎轭澧绿厦撕蕊蜷镱翎阴戾㈣矧辁镱翎飙蝓戾⒑㈩犴澧㈨狎膈甬箦疳蜥麸虍磲螂滹黝㈨狒汨⒑⑥ㄜ荏圻苘苘蒈荏超あ泔眄孱簪矧矧哌矧箫礤篚汨绿厦撕涕铍腻骈铋糸镱㈧轭氕溴骈铋糸镱⒑㈩犴澧㈨弭岙扉铍溴骈铋糸镱磲螂滹黝㈨狒汨⒑⑥蓰艾除ㄜ苒┄咯ㄜ茌憨苘螳ㄜ苡┸荏ㄛ堍к塄莓扣堍к堠荸竣汜痿躜弩⒑⒈⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱扉铍轭扉铄磲螂滹黝⒉⒑㈩犴澧㈨狎膈甬躅溴蜢轭瀹扉铍蝈驽蝈钽澧⒊⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱扉铍轭扉铄磲螂滹黝⒋⒑㈩犴澧㈨狎膈甬躅溴蜢轭瀹扉铍躜飚磲螂滹黝⒌⒑㈩犴澧Ⅲ趄轭绠雉桢虍扉铍糸綮瀹磲螂滹黝绿厦撕蚂镢腭躏翦⑩祜汶聃雉澧㈩犴澧㈨狎膈甬聃雉瀹磲螂滹黝⑩彗轭⒑⑥蓰艾除京苘螵汜痿躜弩⒑⒈⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱磲螂躔聃雉瀹磲螂滹黝㈠钿⒑ㄜ茴ぉ疳趑弪铙⒑㈤钽祯溴⒑ｉ铎轭澧绿厦撕嗅蜥珧狃疳蜥珧狃琚㈩犴澧㈨弭岙疳蜥珧狃璁磲螂滹黝⑩彗轭⒑⑥㈠钿⒑④茴疳趑弪铙⒑㈤钽祯溴⒑ｉ铎轭澧晌躺闻澎屙孱趔㈤铎轭澧疳趑弪铙⒑㈤钽祯溴⒑ｂ徙塍灬箬弩汜疱㈤钽祯溴⒑ｉ铎轭瀛泔溴㈤钽祯溴⒑ｂ镬洧㈤钽祯溴⒑ｉ翎扉恽㈤钽祯溴⒑ｓ趄殡弭栩秕玷㈤钽祯溴⒑ｉ铎轭瀛扉铍㈤钽祯溴⒑ｉ铎轭瀛蝈驽蝈钽瀛扉铍㈤钽祯溴⒑ｌ轭氕躜膦㈤钽祯溴⒑ｌ轭氕屙衢膦㈤钽祯溴⒑ｃ蜷糸悱磲螂躔㈤钽祯溴⒑ｖ犰殇磲螂滹黝㈤钽祯溴⒑ｅ翥弭弪幄㈤钽祯溴⒑Ⅳ屮舢梏盱忉箝恽晌躺闻嘛熹⑩镬洧泔眄孱簪怙熹矧哌篝蝻铉哌㈩犴澧㈨狎膈甬怙熹磲螂滹黝㈨狒汨⒑ㄜ塥苘哌┄咯ㄜ鼙⑩彗轭⒑ㄜ塥苘哌┄咯㈠钿⒑ㄜ鼙汜痿躜弩⒑⒈⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱怙熹磲螂滹黝疳趑弪铙⒑㈤钽祯溴⒑ｉ铎轭澧莠晌躺闻婶犰殂㈤翎扉恽泔眄孱簪轸犰殂矧唧趄镱邕㈩犴澧㈨狎膈甬轸犰殂磲螂滹黝㈨狒汨⒑ㄜ塥擤ó咯ㄜ鼙⑩彗轭⒑ㄜ塥擤ó咯㈠钿⒑ㄜ鼙汜痿躜弩⒑⒈⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱轸犰殂磲螂滹黝疳趑弪铙⒑㈤钽祯溴⒑ｉ铎轭澧莠晌躺闻郁蜷脲翳蝻蹒Ⅲ趄殡弭栩秕玷⒑㈩犴澧㈨狎膈甬篝蜷脲翳蝻蹒璁磲螂滹黝⑩彗轭⒑ㄜ荥苘哌┄咯㈠钿⒑ㄜ鼙汜痿躜弩⒑⒈⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱篝蜷脲翳蝻蹒璁磲螂滹黝澡轶箬秕熹忮轭沆蹁邃殒蝈犰篝蜷脲翳蝻蹒轶轫痨屙孱翦洚疳趑弪铙⒑㈤钽祯溴⒑ｉ铎轭澧莠晌躺闻深扉铄涕铍轭沆轫徵弩㈤铎轭瀛扉铍⒑㈩犴澧㈨弭岙扉铍轭扉铄磲螂滹黝㈨狒汨⒑ā寇苒┄咯ㄜ茌苘īㄜ苡┸荏ㄜ寇┛苘螵ㄜ堠汜痿躜弩⒑⒈⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱扉铍轭扉铄磲螂滹黝⒉⒑㈩犴澧Ⅲ趄轭绠雉桢虍扉铍轭扉铄磲螂滹黝⒊⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱扉铍轭扉铄磲螂滹黝⒋⒑㈩犴澧㈨狎膈甬躅溴蜢轭瀹扉铍躜飚磲螂滹黝⒌⒑㈩犴澧Ⅲ趄轭绠雉桢虍扉铍糸綮瀹磲螂滹黝⒍⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱扉铍轭扉铄磲螂滹黝晌躺闻义驽蝈钽涕铍轭沆轫徵弩㈤铎轭瀛蝈驽蝈钽瀛扉铍⒑㈩犴澧㈨弭岙扉铍轭扉铄蝈驽蝈钽瀹磲螂滹黝㈨狒汨⒑ā寇苒┄咯ㄜ茌菘苘郓ó咯ㄜ茌汜痿躜弩⒑⒈⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱扉铍轭扉铄磲螂滹黝⒉⒑㈩犴澧Ⅲ趄轭绠雉桢虍扉铍轭扉铄磲螂滹黝⒊⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱扉铍轭扉铄磲螂滹黝⒋⒑㈩犴澧㈨狎膈甬躅溴蜢轭瀹扉铍蝈驽蝈钽瀹磲螂滹黝⒌⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱扉铍轭扉铄磲螂滹黝晌躺闻朋汜疱⑩徙塍灬箬弩汜疱⒑吁痧矧艉梏麴函溽蜷铉骈蝈忉祆铄舣痱镪邈趔磲螂滹黝簌铘狲ｂ徙塍灬箬㈩犴澧泔铙翎铘汨狎徙翦虍弩汜疱忉汶箪狍琚㈨狒汨⒑④苘苒苘苘嘬塥啕苘圮茌苘ㄜ堠＼塬苘≥晌躺闻深扉铄蔑溴㈤铎轭瀛泔溴⒑㈩犴澧㈨狎膈甬蜥鳟轭扉铄磲螂滹黝⑩彗轭⒑ㄠ爆昌┄咯㈠钿⒑ㄜ鼙汜痿躜弩⒑⒈⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱蜥鳟轭扉铄磲螂滹黝晌躺闻找涕铍㈧轭氕躜膦㈩犴澧㈨狎膈甬躅溴蜢轭瀹扉铍躜飚磲螂滹黝㈨狒汨⒑ㄨ趑痼亢苘苘┄圮茕岘苘莴┸墚ㄛ岘苘蓰铂洱┄圮墀苘鬈墚苘苘拷Γ苘莳┆苘竣蝈珏骝镯梏麴函铄舢趱趔痨躞泔懑趱麸蜷犰蟑雉桢虔腑蝈珲灬颦屮痱弩箝镱蟓秕箬秕熹腩秣黹铛篚痧矧骘痨躞篚痧矧骘嗫喱嘟喱唳喱啵喱Й痨躞弩汜疱喹晌躺闻彭衢涕铍㈧轭氕屙衢膦㈩犴澧㈨狎膈甬躅溴蜢轭瀹扉铍屙衢飚磲螂滹黝㈨狒汨⒑ㄛ岘碍惯苘莴├ㄛ苘溽苘莴┸墚ㄛ岘苘蓰铂洱蝈珏骝镯梏麴函铄舢趱趔痨躞泔懑趱麸蜷犰蟑雉桢虔腑蝈珲灬颦屮痱弩箝镱蟓秕箬秕熹腩秣晌躺闻抿轸殂歪螂躔泸轸殂磲螂躔⒑疳趑弪铙⒑㈤钽祯溴⒑ａ滗轸轱睥㈤钽祯溴⒑ｄ屐弭轱睥㈤钽祯溴⒑ｓ踱篝轸豸轱睥㈤钽祯溴⒑ｃ镯礤铘㈤钽祯溴⒑ｈ殓桁殓梏⑨滗轸轱睥砒犴痨搴徜溟麸瞰㈩犴澧㈨弭岙徜溟糸镱泸轸殂磲螂躔㈨狒汨⒑苘苘┄咯ㄜ塬苘汜痿躜弩⒑⒈⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱轭箦螋邃泸轸殂磲螂躔⒉⒑㈩犴澧㈨狎膈甬轭箦螋邃泸轸殂磲螂躔⒊⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱轭箦螋邃泸轸殂磲螂躔溴戾糸镱⒑砒犴痨搴溴戾糸镱㈩犴澧㈨弭岙溴戾糸镱泸轸殂磲螂躔㈨狒汨⒑┄咯ō汜痿躜弩⒑⒈⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱溴戾翦洚泸轸殂磲螂躔⒉⒑㈩犴澧㈨狎膈甬溴戾翦洚泸轸殂磲螂躔⒊⒑㈩犴澧瘐钽趱狒轱町溴骈铋糸镱溴戾翦洚泸轸殂磲螂躔Ⅲ踱篝轸豸轱睥砒犴痨搴汨犷珏簋倔踱篝轸豸轱铪 */
			"name": "meta.substitution.criticmarkup",
			"match": "({~)(.+?)(>)(.+?)(~})",
			"captures": {
				"1": { "name": "punctuation.definition.changed.criticmarkup" },
				"2": { "name": "markup.changed.criticmarkup" },
				"3": { "name": "punctuation.definition.changed.criticmarkup" },
				"4": { "name": "markup.changed.criticmarkup" },
				"5": { "name": "punctuation.definition.changed.criticmarkup" }
			},
		},
		"comment": {
			/* Example: {>>comment<<} */
			"name": "meta.comment.criticmarkup",
			"match": "({>>)(.*?)(<<})",
			"captures": {
				"1": { "name": "punctuation.definition.comment.criticmarkup" },
				"2": { "name": "markup.comment.criticmarkup" },
				"3": { "name": "punctuation.definition.comment.criticmarkup" }
			},
		},
		"highlight": {
			/* Example: {==hightlight==}{>>comment<<} */
			"name": "meta.highlight.criticmarkup",
			"match": "({==)(.*?)(==})(?={>>.*?<<})",
			"captures": {
				"1": { "name": "punctuation.definition.highlight.criticmarkup" },
				"2": { "name": "markup.highlight.criticmarkup" },
				"3": { "name": "punctuation.definition.highlight.criticmarkup" }
			},
		},

		/* INLINE: Valid Markdown */
		"valid-markdown": {
			/**
			 * Style ampersands, before the HTML syntax declares them invalid
			 */
			"name": "valid.markdown",
			"match": "&",
		},

		/* INLINE: Tag */
		"tag": {
			/* Source: https://github.com/alehandrof/MarkDo */
			"patterns": [
				{ "include": "#at-tag" },
				{ "include": "#hash-tag" },
			]
		},
		"at-tag": {
			/* Example: #important or #project(x)*/
			"name": "color.green markup.tag.hash.markdo",
			"match": "(?<=^|\\s)(#)[\\w\\d-]+",
			"patterns": [ { "include": "#tag-optional-value" } ]
		},
		"hash-tag": {
			/* Example: @work or @phone(555-1234) */
			"name": "color.cyan markup.tag.at.markdo",
			"match": "(?<=^|\\s)(@)[\\w\\d-]+",
			"patterns": [ { "include": "#tag-optional-value" } ]
		},
		"tag-optional-value": {
			"name": "markup.tag.optional-value.markdo",
			"match": "\\G(\\([\\w\\d-]+\\))",
		},

		/* Legacy stuff I haven't processed, yet. */
		"etcetera": {
			"patterns": [
				/*{
					"name": "comment tag.structure.markdo",
					"match": "(?<=^|\\s)(#|@)(added|done|canceled|cancelled)(:[-\\d]+)?(?=\\s|\\n|$)",
					"comment": "@added:2011-11-11 #done",
				},*/
				/*{
					"name": "action.markdo",
					// "begin": "^\\s*([-\\+\\*]\\s+)?(\\[[ ]\\]\\s+)",
					"begin": "\\G(\\[[ ]\\]\\s+)",
					"captures": {
						"1": { "name": "color.orange checkbox.action.markdo" }
					},
					// "end": "(?=\\n)",
					"end": "(?=\\n|$)",
					"patterns": [
						{ "include": "#inline" },
					]
				},
				{
					"name": "comment action.markdo completed.action.markdo",
					// "begin": "^\\s*([-\\+\\*]\\s+)?(\\[[xX]\\]\\s+)",
					"begin": "\\G(\\[[xX]\\]\\s+)",
					"captures": {
						"1": { "name": "comment checkbox.action.markdo" }
					},
					"end": "(?=\\n|$)",
					// "patterns": [
					//	{ "include": "#inline" },
					// ]
				},*/
				{
					"name": "comment meta.tag.markdo",
					"match": "(?<=^|\\s)(\\+|x|\\.)([-\\d]+)(?=\\s|\\n|$)",
					"comment": "+2011-11-11 x2012-12-12",
				},

				{
					"name": "color.purple markup.underline.link meta.bracket-link.markdown",
					"match": "(\\[\\[)(.+?)(\\]\\])",
					"captures": {
						"1": { "name": "punctuation.definition.bracket-link.markdown" },
						"2": { "name": "markup.underline.bracket-link.markdown" },
						"3": { "name": "punctuation.definition.bracket-link.markdown" }
					},
					"comment": "[[Search for this in Goto Anywhere]]"
				},
			]
		},
	},
}
